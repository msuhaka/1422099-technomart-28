var writeUs=document.querySelector(".button-write-us"),writeForm=document.querySelector(".modal-write-us"),closeButton=document.querySelectorAll(".closing-button"),inputName=document.querySelector(".order-name"),inputEmail=document.querySelector(".order-email"),inputMessage=document.querySelector(".order-message"),inputForm=document.querySelector(".form-in-modal"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}writeUs.addEventListener("click",function(e){e.preventDefault(),console.log("Открой модальное окно"),writeForm.classList.add("popup-show"),storage?(inputName.value=storage,inputEmail.focus()):inputName.focus()}),closeButton.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),console.log("Закрой модальное окно"),writeForm.classList.remove("popup-show"),inputForm.classList.remove("modal-error"),mapPopup.classList.remove("popup-show")})}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeForm.classList.contains("popup-show")&&(e.preventDefault(),writeForm.classList.remove("popup-show"),inputForm.classList.remove("modal-error"))}),inputForm.addEventListener("submit",function(e){inputName.value&&inputEmail.value?isStorageSupport&&localStorage.setItem("login",inputName.value):(e.preventDefault(),inputForm.classList.add("modal-error"),inputForm.offsetWidth=loginPopup.offsetWidth,inputForm.classList.add("modal-error"))});var mapPopup=document.querySelector(".map-popup"),mapLink=document.querySelector(".link-map");mapLink.addEventListener("click",function(e){e.preventDefault(),console.log("Открой модальное окно"),mapPopup.classList.add("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("popup-show")&&(e.preventDefault(),console.log("Закрой модальное окно кнопкой ESC"),mapPopup.classList.remove("popup-show"))});var prev=document.querySelector(".previous-slide"),next=document.querySelector(".next-slide");prev.addEventListener("click",function(e){console.log("Нажата кнопка previous"),plusSlides(-1)}),next.addEventListener("click",function(e){console.log("Нажата кнопка next"),plusSlides(1)});var slideIndex=1;function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var t,o=document.getElementsByClassName("slider-item"),s=document.getElementsByClassName("dot");for(e>o.length&&(slideIndex=1),e<1&&(slideIndex=o.length),t=0;t<o.length;t++)o[t].style.display="none";for(t=0;t<s.length;t++)s[t].className=s[t].className.replace(" active","");o[slideIndex-1].style.display="block",s[slideIndex-1].className+=" active"}showSlides(slideIndex);var serviceButton=document.querySelectorAll(".service-button"),serviceTypes=document.querySelectorAll(".service-type");function openService(e){for(var t=0;t<serviceTypes.length;t++)serviceTypes[t].classList.remove("active");for(t=0;t<serviceButton.length;t++)serviceButton[t].classList.remove("active");document.querySelector("#"+e).classList.add("active")}serviceButton.forEach(function(o){o.addEventListener("click",function(e){var t=o.dataset.service;console.log("сменить слайд в блоке сервисов и услуг"),openService(t),openService(t),openService(t),e.target.classList.add("active")})});