var writeUs=document.querySelector(".button-write-us"),writeForm=document.querySelector(".modal-write-us"),closeButton=document.querySelectorAll(".closing-button"),inputName=document.querySelector(".order-name"),inputEmail=document.querySelector(".order-email"),inputMessage=document.querySelector(".order-message"),inputForm=document.querySelector(".form-in-modal"),modalNotice=document.querySelector(".modal-buying-notice"),buyLink=document.querySelectorAll(".button-buying"),closeNotice=document.querySelector(".closing-button"),makeOrder=document.querySelector(".order-button"),makeShopping=document.querySelector(".shopping-button");buyLink.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),console.log("Открой модальное окно"),modalNotice.classList.add("popup-show")})}),closeNotice.addEventListener("click",function(e){e.preventDefault(),console.log("Закрой модальное окно"),modalNotice.classList.remove("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalNotice.classList.contains("popup-show")&&(e.preventDefault(),console.log("Закрой модальное окно кнопкой ESC"),modalNotice.classList.remove("popup-show"))});var isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}writeUs.addEventListener("click",function(e){e.preventDefault(),console.log("Открой модальное окно"),writeForm.classList.add("popup-show"),storage?(inputName.value=storage,inputEmail.focus()):inputName.focus()}),closeButton.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),console.log("Закрой модальное окно"),writeForm.classList.remove("popup-show"),inputForm.classList.remove("modal-error"),mapPopup.classList.remove("popup-show")})}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeForm.classList.contains("popup-show")&&(e.preventDefault(),writeForm.classList.remove("popup-show"),inputForm.classList.remove("modal-error"))}),inputForm.addEventListener("submit",function(e){inputName.value&&inputEmail.value?isStorageSupport&&localStorage.setItem("login",inputName.value):(e.preventDefault(),inputForm.classList.add("modal-error"),inputForm.offsetWidth=loginPopup.offsetWidth,inputForm.classList.add("modal-error"))});var mapPopup=document.querySelector(".map-popup"),mapLink=document.querySelector(".link-map");mapLink.addEventListener("click",function(e){e.preventDefault(),console.log("Открой модальное окно"),mapPopup.classList.add("popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("popup-show")&&(e.preventDefault(),console.log("Закрой модальное окно кнопкой ESC"),mapPopup.classList.remove("popup-show"))});var prev=document.querySelector(".previous-slide"),next=document.querySelector(".next-slide"),dot=document.querySelectorAll(".dot");prev.addEventListener("click",function(e){console.log("Нажата кнопка previous"),plusSlides(-1)}),next.addEventListener("click",function(e){console.log("Нажата кнопка next"),plusSlides(1)}),dot.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),console.log("Нажат кружок на слайдере"),plusSlides(-1)})});var slideIndex=1;function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var o,t=document.getElementsByClassName("slider-item"),n=document.getElementsByClassName("dot");for(e>t.length&&(slideIndex=1),e<1&&(slideIndex=t.length),o=0;o<t.length;o++)t[o].style.display="none";for(o=0;o<n.length;o++)n[o].className=n[o].className.replace(" active","");t[slideIndex-1].style.display="block",n[slideIndex-1].className+=" active"}showSlides(slideIndex);var serviceButton=document.querySelectorAll(".service-button"),serviceTypes=document.querySelectorAll(".service-type");function openService(e){for(var o=0;o<serviceTypes.length;o++)serviceTypes[o].classList.remove("active");for(o=0;o<serviceButton.length;o++)serviceButton[o].classList.remove("active");document.querySelector("#"+e).classList.add("active")}serviceButton.forEach(function(t){t.addEventListener("click",function(e){var o=t.dataset.service;console.log("сменить слайд в блоке сервисов и услуг"),openService(o),openService(o),openService(o),e.target.classList.add("active")})});